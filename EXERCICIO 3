import requests

def consultar_cep(cep: str):
    """
    Consulta o endereço de um CEP usando a API ViaCEP.

    Parâmetros:
    cep (str): CEP no formato 00000000 ou 00000-000

    Retorna:
    dict: Dicionário com logradouro, bairro, cidade e estado, ou mensagem de erro.
    """
    cep = cep.replace("-", "").strip()  # Remove traço e espaços
    url = f"https://viacep.com.br/ws/{cep}/json/"

    try:
        resposta = requests.get(url)
        resposta.raise_for_status()  # Gera erro se status != 200
        dados = resposta.json()

        if "erro" in dados:
            return {"erro": "CEP não encontrado."}

        return {
            "logradouro": dados.get("logradouro", ""),
            "bairro": dados.get("bairro", ""),
            "cidade": dados.get("localidade", ""),
            "estado": dados.get("uf", "")
        }
    except requests.RequestException as e:
        return {"erro": f"Erro ao consultar o CEP: {e}"}


# Interação com o usuário
cep_usuario = input("Digite o CEP: ")
resultado = consultar_cep(cep_usuario)

if "erro" in resultado:
    print(resultado["erro"])
else:
    print("\nEndereço encontrado:")
    print(f" Logradouro: {resultado['logradouro']}")
    print(f" Bairro: {resultado['bairro']}")
    print(f" Cidade: {resultado['cidade']}")
    print(f" Estado: {resultado['estado']}")
